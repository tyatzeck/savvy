<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Savvy Coders Instructor Overview</title>
    <link rel="stylesheet" href="overview.css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/github-gist.min.css">
    <style type="text/css">
        nav ul li{
          text-align: center;
          color: grey;
          cursor: pointer;
        }
        h1{
          color: #2B2B2B;
        }
        h2 {
          color: #07c4dd;
        }

        #greeting{
            text-align: center;
        }
        .hidden{
            display:none;
        }
    </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Savvy Coders Instructor Overview</h1>
      <h2>built in partnership with Hack Reactor</h2>
    </header>
    <nav>
      <div class="row">
        <div class="col-12">
          <ul>
              <li class="col-3">Week 1</li>
              <li class="col-3">Week 2</li>
              <li class="col-3">Week 3</li>
              <li class="col-3">Week 4</li>
          </ul>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <ul>
            <li class="col-2">Module 1</li>
            <li class="col-2">Module 2</li>
            <li class="col-2">Module 3</li>
            <li class="col-2">Module 4</li>
            <li class="col-2">Module 5</li>
            <li class="col-2">CLEAR</li>
          </ul>
        </div>
      </div>
    </nav>
    <hr>
      <!-- sandbox area for populating views with Backbone -->
      <div id="output">

      </div>
      <!--initial/default greeting-->
      <div id="greeting" class="hidden">
          <h3>Welcome to the Instructor Overview!</h3>
          <p>There are 4 weeks in this course, with 5 modules per week. Each module is equivalent to 3 hours of class/lecture time.</p>
          <p>To see the content for a specific module, please click on a Week and Module above.</p>
      </div>

      <!--individual module content contained below-->
      <!--WEEK 1-->
      <div id="wk1mod1" class="hidden">
          <br>
          <script src="https://gist.github.com/NAlexPear/7ff5892dce25b31c1cd5.js"></script>
      </div>
      <div id="wk1mod2" class="hidden">
          <br>
          <script src="https://gist.github.com/NAlexPear/fe8342e88bfdb8835eab.js"></script>
      </div>
      <div id="wk1mod3" class="hidden">
          <br>
          <script src="https://gist.github.com/NAlexPear/885cea36a044d4216b7b.js"></script>
      </div>
      <div id="wk1mod4" class="hidden">
          <br>
          <script src="https://gist.github.com/NAlexPear/68a2d241740838915fc2.js"></script>
      </div>
      <div id="wk1mod5" class="hidden">
          <br>
          <script src="https://gist.github.com/NAlexPear/73a7d4b289d758ff1831.js"></script>
      </div>

      <!--WEEK 2-->
      <div id="wk2mod1" class="hidden">
          <h3>Here's content for the first module, second week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk2mod2" class="hidden">
          <h3>Here's content for the second module, second week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk2mod3" class="hidden">
          <h3>Here's content for the third module, second week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk2mod4" class="hidden">
          <h3>Here's content for the fourth module, second week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk2mod5" class="hidden">
          <h3>Here's content for the fifth module, second week!</h3>
          <p>Look at all the pretty words.</p>
      </div>

      <!--WEEK 3-->
      <div id="wk3mod1" class="hidden">
          <h3>Here's content for the first module, third week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk3mod2" class="hidden">
          <h3>Here's content for the second module, third week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk3mod3" class="hidden">
          <h3>Here's content for the third module, third week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk3mod4" class="hidden">
          <h3>Here's content for the fourth module, third week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk3mod5" class="hidden">
          <h3>Here's content for the fifth module, third week!</h3>
          <p>Look at all the pretty words.</p>
      </div>

      <!--WEEK 4-->
      <div id="wk4mod1" class="hidden">
          <h3>Here's content for the first module, fourth week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk4mod2" class="hidden">
          <h3>Here's content for the second module, fourth week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk4mod3" class="hidden">
          <h3>Here's content for the third module, fourth week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk4mod4" class="hidden">
          <h3>Here's content for the fourth module, fourth week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
      <div id="wk4mod5" class="hidden">
          <h3>Here's content for the fifth module, fourth week!</h3>
          <p>Look at all the pretty words.</p>
      </div>
    </div>

    <!--SCRIPTS BELOW-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.2.3/backbone-min.js"></script>

    <script type="text/javascript">

      //backbone work
      (function(window, document, $, Backbone) {
        'use strict';
        //click events through the menu
        var week;
        var module;

        //menu navigation
        $('nav ul').on('click','li',function(){

            $(this).siblings().css('color','grey');
            $(this).css('color','black');

            var target = $(this).text();
            var targetNumber = target.slice(-1);

            if (target.match('Week')){
                week = targetNumber;
            } else {
                module = targetNumber;
            }

            var id = 'wk' + week + 'mod' + module;

            instructionsView.render(id);
            window.location.hash = id;
        });

        //set up filename endpoints
        var files = [];
        for (var i = 1; i <= 4; i++) {
          var filename = 'Wk' + i;
          for (var j = 1; j <= 5; j++) {
            var filenameFull = filename + 'Mod' + j + '.md';
            files.push(filenameFull);
          }
        }

        //AJAX getting files from savvy API, building individual models
        // function init(collection){
        //   files.forEach(function (file) {
        //     var id = file.toLowerCase().split('.')[0];
        //     $.get('markdown/' + file, function (data) {
        //       var html = Markdown(data);
        //       console.log('data converted to html for' + id);
        //     });
        //   });
        // };

        //Backbone MVC stuff
        var InstructionsModel = Backbone.Model.extend({
          defaults: {
            selector: null,
            md: null,
            html: null
          }
        });

        var InstructionsCollection = Backbone.Collection.extend({
          url: 'http://162.243.73.102/markdown',
          model: InstructionsModel,
          parse: function (data) {
            return data.modules;
          }
        });

        var InstructionsView = Backbone.View.extend({
          el:'#output',
          initialize: function () {
            this.render('wk1mod1');
          },
          render: function (id) {
            var that = this;
            this.collection.fetch().then(function () {
              that.$el.html(that.collection.findWhere({'selector':id}).attributes.html);
            });
            return this;
          }
        });

        var instructionsCollection = new InstructionsCollection();
        var instructionsView = new InstructionsView({ collection: instructionsCollection });

      }(window, document, window.jQuery, window.Backbone));
    </script>
  </body>
</html>
